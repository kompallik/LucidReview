{
  "resourceType": "Library",
  "id": "Sepsis-InpatientAdmission-v1",
  "url": "http://lucidreview.dev/Library/Sepsis-InpatientAdmission-v1",
  "name": "Sepsis-InpatientAdmission-v1",
  "title": "Sepsis and Septic Shock — Inpatient Admission Criteria — Coverage Criteria",
  "version": "1.0.0",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/library-type",
        "code": "logic-library",
        "display": "Logic Library"
      }
    ]
  },
  "description": "CQL library evaluating inpatient admission criteria for: Sepsis and Septic Shock — Inpatient Admission Criteria — Coverage Criteria",
  "purpose": "Utilization management criteria evaluation for prior authorization of inpatient admissions.",
  "relatedArtifact": [
    {
      "type": "depends-on",
      "display": "FHIR Helpers",
      "resource": "http://fhir.org/guides/cqf/common/Library/FHIRHelpers|4.0.1"
    }
  ],
  "parameter": [
    {
      "name": "Measurement Period",
      "use": "in",
      "min": 0,
      "max": "1",
      "type": "Period"
    },
    {
      "name": "Patient",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "Patient"
    },
    {
      "name": "Lookback 24 Hours",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Lookback 6 Hours",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Lookback 48 Hours",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Lookback 30 Days",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Sepsis ICD10 Code List",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "HasSepsisDiagnosisCode",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "SOFA Score Observations",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "SOFAScoreAtLeastTwo",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "GCS Observations Recent",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "GCSLessThan15",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Respiratory Rate Observations Recent",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "RespiratoryRateAtLeast22",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "SBP Observations Recent",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "SBPAtMost100",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "qSOFA Component Count",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "QSOFAScoreAtLeastTwo",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Active Vasopressor MedicationAdministrations",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "MAP Observations Recent",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "MAP At Or Above 65 With Vasopressor",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "VasopressorRequiredForMAP",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Lactate Observations 24 Hours",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Recent IV Fluid Administrations",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "LactateGreaterThan2PostFluid",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Creatinine Observations 24 Hours",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "CreatinineGreaterThan1Point2",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Patient Weight in kg",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Urine Output Observations 6 Hours",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Urine Output Rate mL per kg per hr",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "UrinOutputLessThanPointFiveFor2Hours",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    },
    {
      "name": "Bilirubin Observations 24 Hours",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    }
  ],
  "dataRequirement": [
    {
      "type": "Condition",
      "codeFilter": [
        {
          "path": "code",
          "code": [
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A41.9"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A41.01"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A41.02"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A41.1"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A41.2"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A41.3"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A41.50"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A40.0"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A40.1"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "A40.9"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "R65.20"
            },
            {
              "system": "http://hl7.org/fhir/sid/icd-10-cm",
              "code": "R65.21"
            }
          ]
        }
      ]
    }
  ],
  "content": [
    {
      "contentType": "text/cql",
      "data": "bGlicmFyeSBTZXBzaXNfSW5wYXRpZW50QWRtaXNzaW9uX3YxIHZlcnNpb24gJzEuMC4wJwoKdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScKaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICc0LjAuMScgY2FsbGVkIEZISVJIZWxwZXJzCgpjb2Rlc3lzdGVtICJJQ0QxMENNIjogJ2h0dHA6Ly9obDcub3JnL2ZoaXIvc2lkL2ljZC0xMC1jbScKY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycKY29kZXN5c3RlbSAiU05PTUVEQ1QiOiAnaHR0cDovL3Nub21lZC5pbmZvL3NjdCcKY29kZXN5c3RlbSAiUnhOb3JtIjogJ2h0dHA6Ly93d3cubmxtLm5paC5nb3YvcmVzZWFyY2gvdW1scy9yeG5vcm0nCgp2YWx1ZXNldCAiU2Vwc2lzIGFuZCBTZXB0aWMgU2hvY2sgRGlhZ25vc2VzIjogJ2h0dHA6Ly9sdWNpZHJldmlldy5kZXYvVmFsdWVTZXQvc2Vwc2lzLXNlcHRpYy1zaG9jaycKdmFsdWVzZXQgIlZhc29wcmVzc29yIE1lZGljYXRpb25zIjogJ2h0dHA6Ly9sdWNpZHJldmlldy5kZXYvVmFsdWVTZXQvdmFzb3ByZXNzb3ItbWVkaWNhdGlvbnMnCnZhbHVlc2V0ICJCcm9hZCBTcGVjdHJ1bSBJViBBbnRpYmlvdGljcyI6ICdodHRwOi8vbHVjaWRyZXZpZXcuZGV2L1ZhbHVlU2V0L2Jyb2FkLXNwZWN0cnVtLWl2LWFudGliaW90aWNzJwp2YWx1ZXNldCAiQmxvb2QgQ3VsdHVyZSBQcm9jZWR1cmVzIjogJ2h0dHA6Ly9sdWNpZHJldmlldy5kZXYvVmFsdWVTZXQvYmxvb2QtY3VsdHVyZS1wcm9jZWR1cmVzJwp2YWx1ZXNldCAiSVYgQ3J5c3RhbGxvaWQgRmx1aWRzIjogJ2h0dHA6Ly9sdWNpZHJldmlldy5kZXYvVmFsdWVTZXQvaXYtY3J5c3RhbGxvaWQtZmx1aWRzJwoKY29kZSAiU2Vwc2lzIHVuc3BlY2lmaWVkIG9yZ2FuaXNtIjogJ0E0MS45JyBmcm9tICJJQ0QxMENNIgpjb2RlICJTZXBzaXMgZHVlIHRvIE1TU0EiOiAnQTQxLjAxJyBmcm9tICJJQ0QxMENNIgpjb2RlICJTZXBzaXMgZHVlIHRvIE1SU0EiOiAnQTQxLjAyJyBmcm9tICJJQ0QxMENNIgpjb2RlICJTZXBzaXMgZHVlIHRvIG90aGVyIHNwZWNpZmllZCBzdGFwaHlsb2NvY2N1cyI6ICdBNDEuMScgZnJvbSAiSUNEMTBDTSIKY29kZSAiU2Vwc2lzIGR1ZSB0byBTdHJlcHRvY29jY3VzIHBuZXVtb25pYWUiOiAnQTQxLjInIGZyb20gIklDRDEwQ00iCmNvZGUgIlNlcHNpcyBkdWUgdG8gSGFlbW9waGlsdXMgaW5mbHVlbnphZSI6ICdBNDEuMycgZnJvbSAiSUNEMTBDTSIKY29kZSAiU2Vwc2lzIGR1ZSB0byB1bnNwZWNpZmllZCBncmFtLW5lZ2F0aXZlIG9yZ2FuaXNtcyI6ICdBNDEuNTAnIGZyb20gIklDRDEwQ00iCmNvZGUgIlNlcHNpcyBkdWUgdG8gU3RyZXB0b2NvY2N1cyBncm91cCBBIjogJ0E0MC4wJyBmcm9tICJJQ0QxMENNIgpjb2RlICJTZXBzaXMgZHVlIHRvIFN0cmVwdG9jb2NjdXMgZ3JvdXAgQiI6ICdBNDAuMScgZnJvbSAiSUNEMTBDTSIKY29kZSAiU3RyZXB0b2NvY2NhbCBzZXBzaXMgdW5zcGVjaWZpZWQiOiAnQTQwLjknIGZyb20gIklDRDEwQ00iCmNvZGUgIlNldmVyZSBzZXBzaXMgd2l0aG91dCBzZXB0aWMgc2hvY2siOiAnUjY1LjIwJyBmcm9tICJJQ0QxMENNIgpjb2RlICJTZXZlcmUgc2Vwc2lzIHdpdGggc2VwdGljIHNob2NrIjogJ1I2NS4yMScgZnJvbSAiSUNEMTBDTSIKCmNvZGUgIkdsYXNnb3cgY29tYSBzY29yZSB0b3RhbCI6ICczNTA4OC00JyBmcm9tICJMT0lOQyIKY29kZSAiUmVzcGlyYXRvcnkgcmF0ZSI6ICc5Mjc5LTEnIGZyb20gIkxPSU5DIgpjb2RlICJTeXN0b2xpYyBibG9vZCBwcmVzc3VyZSI6ICc4NDgwLTYnIGZyb20gIkxPSU5DIgpjb2RlICJNZWFuIGFydGVyaWFsIHByZXNzdXJlIjogJzg0NzgtMCcgZnJvbSAiTE9JTkMiCmNvZGUgIkxhY3RhdGUgW01vbGVzL3ZvbHVtZV0gaW4gQmxvb2QiOiAnMjUyNC03JyBmcm9tICJMT0lOQyIKY29kZSAiQ3JlYXRpbmluZSBbTWFzcy92b2x1bWVdIGluIFNlcnVtIG9yIFBsYXNtYSI6ICcyMTYwLTAnIGZyb20gIkxPSU5DIgpjb2RlICJCaWxpcnViaW4udG90YWwgW01hc3Mvdm9sdW1lXSBpbiBTZXJ1bSBvciBQbGFzbWEiOiAnMTk3NS0yJyBmcm9tICJMT0lOQyIKY29kZSAiUGxhdGVsZXRzIFsjL3ZvbHVtZV0gaW4gQmxvb2QgYnkgQXV0b21hdGVkIGNvdW50IjogJzc3Ny0zJyBmcm9tICJMT0lOQyIKY29kZSAiSU5SIGluIFBsYXRlbGV0IHBvb3IgcGxhc21hIGJ5IENvYWd1bGF0aW9uIGFzc2F5IjogJzYzMDEtNicgZnJvbSAiTE9JTkMiCmNvZGUgImFQVFQgaW4gUGxhdGVsZXQgcG9vciBwbGFzbWEgYnkgQ29hZ3VsYXRpb24gYXNzYXkiOiAnMzE3My0yJyBmcm9tICJMT0lOQyIKY29kZSAiT3h5Z2VuIFtQYXJ0aWFsIHByZXNzdXJlXSBpbiBBcnRlcmlhbCBibG9vZCI6ICcyNzAzLTcnIGZyb20gIkxPSU5DIgpjb2RlICJQYU8yL0ZpTzIgW1JhdGlvXSI6ICc1MDk4NC00JyBmcm9tICJMT0lOQyIKY29kZSAiVXJpbmUgb3V0cHV0IFtWb2x1bWVdIHRvdGFsIjogJzkxOTItNicgZnJvbSAiTE9JTkMiCmNvZGUgIlNPRkEgdG90YWwgc2NvcmUiOiAnOTY3OTAtOScgZnJvbSAiTE9JTkMiCmNvZGUgIk94eWdlbiBzYXR1cmF0aW9uIGluIEFydGVyaWFsIGJsb29kIjogJzI3MDgtNicgZnJvbSAiTE9JTkMiCmNvZGUgIk5vcmVwaW5lcGhyaW5lIFtTTk9NRURdIjogJzQ1NTU1MDA3JyBmcm9tICJTTk9NRURDVCIKY29kZSAiVmFzb3ByZXNzaW4gW1NOT01FRF0iOiAnMjc5ODkwMDcnIGZyb20gIlNOT01FRENUIgpjb2RlICJFcGluZXBocmluZSBbU05PTUVEXSI6ICczODczNjIwMDEnIGZyb20gIlNOT01FRENUIgpjb2RlICJEb3BhbWluZSBbU05PTUVEXSI6ICc0MTIzODMwMDYnIGZyb20gIlNOT01FRENUIgpjb2RlICJQaGVueWxlcGhyaW5lIFtTTk9NRURdIjogJzM3Mjc3MTAwNScgZnJvbSAiU05PTUVEQ1QiCgpwYXJhbWV0ZXIgIk1lYXN1cmVtZW50IFBlcmlvZCIgSW50ZXJ2YWw8RGF0ZVRpbWU+CiAgZGVmYXVsdCBJbnRlcnZhbFtAMjAyNi0wMS0wMVQwMDowMDowMC4wLCBAMjAyNi0xMi0zMVQyMzo1OTo1OS4wXQoKcGFyYW1ldGVyICJTZXBzaXMgUmVjb2duaXRpb24gVGltZSIgRGF0ZVRpbWUKICBkZWZhdWx0IE5vdygpCgpjb250ZXh0IFBhdGllbnQKCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBIRUxQRVI6IE9ic2VydmF0aW9uIHJldHJpZXZhbCB1dGlsaXRpZXMKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWZpbmUgIkxvb2tiYWNrIDI0IEhvdXJzIjoKICBJbnRlcnZhbFtOb3coKSAtIDI0IGhvdXJzLCBOb3coKV0KCmRlZmluZSAiTG9va2JhY2sgNiBIb3VycyI6CiAgSW50ZXJ2YWxbTm93KCkgLSA2IGhvdXJzLCBOb3coKV0KCmRlZmluZSAiTG9va2JhY2sgNDggSG91cnMiOgogIEludGVydmFsW05vdygpIC0gNDggaG91cnMsIE5vdygpXQoKZGVmaW5lICJMb29rYmFjayAzMCBEYXlzIjoKICBJbnRlcnZhbFtOb3coKSAtIDMwIGRheXMsIE5vdygpXQoKZGVmaW5lIGZ1bmN0aW9uIE1vc3RSZWNlbnRPYnNlcnZhdGlvblZhbHVlKG9ic2VydmF0aW9ucyBMaXN0PE9ic2VydmF0aW9uPik6CiAgTGFzdCgKICAgIG9ic2VydmF0aW9ucyBPCiAgICAgIHNvcnQgYnkgKGVmZmVjdGl2ZSBhcyBkYXRlVGltZSkKICApCgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gTEVBRjogSGFzU2Vwc2lzRGlhZ25vc2lzQ29kZQovLyBTZXBzaXMgb3IgU2VwdGljIFNob2NrIElDRC0xMCBEaWFnbm9zaXMgQ29kZSBwcmVzZW50Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmaW5lICJTZXBzaXMgSUNEMTAgQ29kZSBMaXN0IjoKICB7ICdBNDEuOScsICdBNDEuMDEnLCAnQTQxLjAyJywgJ0E0MS4xJywgJ0E0MS4yJywgJ0E0MS4zJywKICAgICdBNDEuNTAnLCAnQTQwLjAnLCAnQTQwLjEnLCAnQTQwLjknLCAnUjY1LjIwJywgJ1I2NS4yMScgfQoKZGVmaW5lICJIYXNTZXBzaXNEaWFnbm9zaXNDb2RlIjoKICBleGlzdHMgKAogICAgW0NvbmRpdGlvbl0gQwogICAgICB3aGVyZSBDLmNvZGUuY29kaW5nLmV4aXN0cyhjb2RpbmcgPT4gY29kaW5nLmNvZGUgaW4gIlNlcHNpcyBJQ0QxMCBDb2RlIExpc3QiKQogICAgICAgIGFuZCBDLmNsaW5pY2FsU3RhdHVzLmNvZGluZy5leGlzdHMocyA9PiBzLmNvZGUgaW4geyAnYWN0aXZlJywgJ3JlY3VycmVuY2UnLCAncmVsYXBzZScgfSkKICAgICAgICBhbmQgKAogICAgICAgICAgQy5vbnNldCBpcyBub3QgbnVsbAogICAgICAgICAgb3IgQy5yZWNvcmRlZERhdGUgaXMgbm90IG51bGwKICAgICAgICApCiAgKQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIExFQUY6IFNPRkFTY29yZUF0TGVhc3RUd28KLy8gU09GQSBTY29yZSA+PSAyIGZyb20gZG9jdW1lbnRlZCBvYnNlcnZhdGlvbiBvciBjbGluaWNhbCBub3RlCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmaW5lICJTT0ZBIFNjb3JlIE9ic2VydmF0aW9ucyI6CiAgW09ic2VydmF0aW9uOiAiU09GQSB0b3RhbCBzY29yZSJdIE8KICAgIHdoZXJlIE8uc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9CiAgICAgIGFuZCBPLmVmZmVjdGl2ZSBpcyBub3QgbnVsbAogICAgICBhbmQgKE8uZWZmZWN0aXZlIGFzIGRhdGVUaW1lKSBpbiAiTG9va2JhY2sgMjQgSG91cnMiCgpkZWZpbmUgIlNPRkFTY29yZUF0TGVhc3RUd28iOgogIGV4aXN0cyAoCiAgICAiU09GQSBTY29yZSBPYnNlcnZhdGlvbnMiIE8KICAgICAgd2hlcmUgKE8udmFsdWUgYXMgUXVhbnRpdHkpLnZhbHVlID49IDIKICApCgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gTEVBRjogR0NTTGVzc1RoYW4xNQovLyBBbHRlcmVkIE1lbnRhdGlvbiAoR0NTIDwxNSkg4oCUIHFTT0ZBIGNvbXBvbmVudAovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZmluZSAiR0NTIE9ic2VydmF0aW9ucyBSZWNlbnQiOgogIFtPYnNlcnZhdGlvbjogIkdsYXNnb3cgY29tYSBzY29yZSB0b3RhbCJdIE8KICAgIHdoZXJlIE8uc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9CiAgICAgIGFuZCBPLmVmZmVjdGl2ZSBpcyBub3QgbnVsbAogICAgICBhbmQgKE8uZWZmZWN0aXZlIGFzIGRhdGVUaW1lKSBpbiAiTG9va2JhY2sgNiBIb3VycyIKCmRlZmluZSAiR0NTTGVzc1RoYW4xNSI6CiAgZXhpc3RzICgKICAgICJHQ1MgT2JzZXJ2YXRpb25zIFJlY2VudCIgTwogICAgICB3aGVyZSAoTy52YWx1ZSBhcyBRdWFudGl0eSkudmFsdWUgPCAxNQogICkKCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBMRUFGOiBSZXNwaXJhdG9yeVJhdGVBdExlYXN0MjIKLy8gUmVzcGlyYXRvcnkgUmF0ZSA+PSAyMiBicmVhdGhzL21pbiDigJQgcVNPRkEgY29tcG9uZW50Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmaW5lICJSZXNwaXJhdG9yeSBSYXRlIE9ic2VydmF0aW9ucyBSZWNlbnQiOgogIFtPYnNlcnZhdGlvbjogIlJlc3BpcmF0b3J5IHJhdGUiXSBPCiAgICB3aGVyZSBPLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQogICAgICBhbmQgTy5lZmZlY3RpdmUgaXMgbm90IG51bGwKICAgICAgYW5kIChPLmVmZmVjdGl2ZSBhcyBkYXRlVGltZSkgaW4gIkxvb2tiYWNrIDYgSG91cnMiCgpkZWZpbmUgIlJlc3BpcmF0b3J5UmF0ZUF0TGVhc3QyMiI6CiAgZXhpc3RzICgKICAgICJSZXNwaXJhdG9yeSBSYXRlIE9ic2VydmF0aW9ucyBSZWNlbnQiIE8KICAgICAgd2hlcmUgKE8udmFsdWUgYXMgUXVhbnRpdHkpLnZhbHVlID49IDIyCiAgKQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIExFQUY6IFNCUEF0TW9zdDEwMAovLyBTeXN0b2xpYyBCbG9vZCBQcmVzc3VyZSA8PSAxMDAgbW1IZyDigJQgcVNPRkEgY29tcG9uZW50Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmaW5lICJTQlAgT2JzZXJ2YXRpb25zIFJlY2VudCI6CiAgW09ic2VydmF0aW9uOiAiU3lzdG9saWMgYmxvb2QgcHJlc3N1cmUiXSBPCiAgICB3aGVyZSBPLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQogICAgICBhbmQgTy5lZmZlY3RpdmUgaXMgbm90IG51bGwKICAgICAgYW5kIChPLmVmZmVjdGl2ZSBhcyBkYXRlVGltZSkgaW4gIkxvb2tiYWNrIDYgSG91cnMiCgpkZWZpbmUgIlNCUEF0TW9zdDEwMCI6CiAgZXhpc3RzICgKICAgICJTQlAgT2JzZXJ2YXRpb25zIFJlY2VudCIgTwogICAgICB3aGVyZSAoTy52YWx1ZSBhcyBRdWFudGl0eSkudmFsdWUgPD0gMTAwCiAgKQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIENPTVBPU0lURTogUVNPRkFTY29yZUF0TGVhc3RUd28KLy8gQXQgbGVhc3QgMiBvZiAzIHFTT0ZBIHN1Yi1jcml0ZXJpYSBwcmVzZW50IHNpbXVsdGFuZW91c2x5Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmaW5lICJxU09GQSBDb21wb25lbnQgQ291bnQiOgogIChpZiAiR0NTTGVzc1RoYW4xNSIgdGhlbiAxIGVsc2UgMCkKICArIChpZiAiUmVzcGlyYXRvcnlSYXRlQXRMZWFzdDIyIiB0aGVuIDEgZWxzZSAwKQogICsgKGlmICJTQlBBdE1vc3QxMDAiIHRoZW4gMSBlbHNlIDApCgpkZWZpbmUgIlFTT0ZBU2NvcmVBdExlYXN0VHdvIjoKICAicVNPRkEgQ29tcG9uZW50IENvdW50IiA+PSAyCgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gTEVBRjogVmFzb3ByZXNzb3JSZXF1aXJlZEZvck1BUAovLyBWYXNvcHJlc3NvciBSZXF1aXJlZCB0byBNYWludGFpbiBNQVAgPj0gNjUgbW1IZwovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZmluZSAiQWN0aXZlIFZhc29wcmVzc29yIE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbnMiOgogIFtNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25dIE1BCiAgICB3aGVyZSBNQS5zdGF0dXMgaW4geyAnaW4tcHJvZ3Jlc3MnLCAnY29tcGxldGVkJyB9CiAgICAgIGFuZCAoCiAgICAgICAgTUEubWVkaWNhdGlvbi5jb2RpbmcuZXhpc3RzKGMgPT4gYy5zeXN0ZW0gPSAnaHR0cDovL3Nub21lZC5pbmZvL3NjdCcKICAgICAgICAgIGFuZCBjLmNvZGUgaW4geyAnNDU1NTUwMDcnLCAnMjc5ODkwMDcnLCAnMzg3MzYyMDAxJywgJzQxMjM4MzAwNicsICczNzI3NzEwMDUnIH0pCiAgICAgICAgb3IgTUEubWVkaWNhdGlvbi5jb2RpbmcuZXhpc3RzKGMgPT4gYy5zeXN0ZW0gPSAnaHR0cDovL3d3dy5ubG0ubmloLmdvdi9yZXNlYXJjaC91bWxzL3J4bm9ybScpCiAgICAgICkKICAgICAgYW5kIE1BLmVmZmVjdGl2ZSBpcyBub3QgbnVsbAogICAgICBhbmQgKAogICAgICAgIChNQS5lZmZlY3RpdmUgYXMgZGF0ZVRpbWUpIGluICJMb29rYmFjayAyNCBIb3VycyIKICAgICAgICBvciAoCiAgICAgICAgICAoTUEuZWZmZWN0aXZlIGFzIFBlcmlvZCkuc3RhcnQgaXMgbm90IG51bGwKICAgICAgICAgIGFuZCAoTUEuZWZmZWN0aXZlIGFzIFBlcmlvZCkuc3RhcnQgaW4gIkxvb2tiYWNrIDI0IEhvdXJzIgogICAgICAgICkKICAgICAgKQoKZGVmaW5lICJNQVAgT2JzZXJ2YXRpb25zIFJlY2VudCI6CiAgW09ic2VydmF0aW9uOiAiTWVhbiBhcnRlcmlhbCBwcmVzc3VyZSJdIE8KICAgIHdoZXJlIE8uc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9CiAgICAgIGFuZCBPLmVmZmVjdGl2ZSBpcyBub3QgbnVsbAogICAgICBhbmQgKE8uZWZmZWN0aXZlIGFzIGRhdGVUaW1lKSBpbiAiTG9va2JhY2sgNiBIb3VycyIKCmRlZmluZSAiTUFQIEF0IE9yIEFib3ZlIDY1IFdpdGggVmFzb3ByZXNzb3IiOgogIGV4aXN0cyAoCiAgICAiTUFQIE9ic2VydmF0aW9ucyBSZWNlbnQiIE8KICAgICAgd2hlcmUgKE8udmFsdWUgYXMgUXVhbnRpdHkpLnZhbHVlID49IDY1CiAgKQogIGFuZCBleGlzdHMgIkFjdGl2ZSBWYXNvcHJlc3NvciBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25zIgoKZGVmaW5lICJWYXNvcHJlc3NvclJlcXVpcmVkRm9yTUFQIjoKICBleGlzdHMgIkFjdGl2ZSBWYXNvcHJlc3NvciBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25zIgogIGFuZCAiTUFQIEF0IE9yIEFib3ZlIDY1IFdpdGggVmFzb3ByZXNzb3IiCgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gTEVBRjogTGFjdGF0ZUdyZWF0ZXJUaGFuMlBvc3RGbHVpZAovLyBTZXJ1bSBMYWN0YXRlID4gMiBtbW9sL0wgRGVzcGl0ZSBGbHVpZCBSZXN1c2NpdGF0aW9uCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmaW5lICJMYWN0YXRlIE9ic2VydmF0aW9ucyAyNCBIb3VycyI6CiAgW09ic2VydmF0aW9uOiAiTGFjdGF0ZSBbTW9sZXMvdm9sdW1lXSBpbiBCbG9vZCJdIE8KICAgIHdoZXJlIE8uc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9CiAgICAgIGFuZCBPLmVmZmVjdGl2ZSBpcyBub3QgbnVsbAogICAgICBhbmQgKE8uZWZmZWN0aXZlIGFzIGRhdGVUaW1lKSBpbiAiTG9va2JhY2sgMjQgSG91cnMiCgpkZWZpbmUgIlJlY2VudCBJViBGbHVpZCBBZG1pbmlzdHJhdGlvbnMiOgogIFtNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25dIE1BCiAgICB3aGVyZSBNQS5zdGF0dXMgaW4geyAnY29tcGxldGVkJywgJ2luLXByb2dyZXNzJyB9CiAgICAgIGFuZCBNQS5lZmZlY3RpdmUgaXMgbm90IG51bGwKICAgICAgYW5kICgKICAgICAgICAoTUEuZWZmZWN0aXZlIGFzIGRhdGVUaW1lKSBpbiAiTG9va2JhY2sgNiBIb3VycyIKICAgICAgICBvciAoCiAgICAgICAgICAoTUEuZWZmZWN0aXZlIGFzIFBlcmlvZCkuc3RhcnQgaXMgbm90IG51bGwKICAgICAgICAgIGFuZCAoTUEuZWZmZWN0aXZlIGFzIFBlcmlvZCkuc3RhcnQgaW4gIkxvb2tiYWNrIDYgSG91cnMiCiAgICAgICAgKQogICAgICApCiAgICAgIGFuZCBNQS5tZWRpY2F0aW9uLmNvZGluZy5leGlzdHMoYyA9PgogICAgICAgIGMuZGlzcGxheSB+ICdOb3JtYWwgU2FsaW5lJwogICAgICAgIG9yIGMuZGlzcGxheSB+ICdMYWN0YXRlZCBSaW5nZXInCiAgICAgICAgb3IgYy5kaXNwbGF5IH4gJ3NvZGl1bSBjaGxvcmlkZSAwLjklJwogICAgICAgIG9yIGMuZGlzcGxheSB+ICdjcnlzdGFsbG9pZCcKICAgICAgKQoKZGVmaW5lICJMYWN0YXRlR3JlYXRlclRoYW4yUG9zdEZsdWlkIjoKICBleGlzdHMgKAogICAgIkxhY3RhdGUgT2JzZXJ2YXRpb25zIDI0IEhvdXJzIiBPCiAgICAgIHdoZXJlIChPLnZhbHVlIGFzIFF1YW50aXR5KS52YWx1ZSA+IDIKICApCiAgYW5kIGV4aXN0cyAiUmVjZW50IElWIEZsdWlkIEFkbWluaXN0cmF0aW9ucyIKCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBMRUFGOiBDcmVhdGluaW5lR3JlYXRlclRoYW4xUG9pbnQyCi8vIEFjdXRlIEtpZG5leSBJbmp1cnkg4oCUIENyZWF0aW5pbmUgPiAxLjIgbWcvZEwKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWZpbmUgIkNyZWF0aW5pbmUgT2JzZXJ2YXRpb25zIDI0IEhvdXJzIjoKICBbT2JzZXJ2YXRpb246ICJDcmVhdGluaW5lIFtNYXNzL3ZvbHVtZV0gaW4gU2VydW0gb3IgUGxhc21hIl0gTwogICAgd2hlcmUgTy5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0KICAgICAgYW5kIE8uZWZmZWN0aXZlIGlzIG5vdCBudWxsCiAgICAgIGFuZCAoTy5lZmZlY3RpdmUgYXMgZGF0ZVRpbWUpIGluICJMb29rYmFjayAyNCBIb3VycyIKCmRlZmluZSAiQ3JlYXRpbmluZUdyZWF0ZXJUaGFuMVBvaW50MiI6CiAgZXhpc3RzICgKICAgICJDcmVhdGluaW5lIE9ic2VydmF0aW9ucyAyNCBIb3VycyIgTwogICAgICB3aGVyZSAoTy52YWx1ZSBhcyBRdWFudGl0eSkudmFsdWUgPiAxLjIKICApCgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gTEVBRjogVXJpbk91dHB1dExlc3NUaGFuUG9pbnRGaXZlRm9yMkhvdXJzCi8vIFVyaW5lIE91dHB1dCA8IDAuNSBtTC9rZy9ociBmb3IgPj0gMiBjb25zZWN1dGl2ZSBob3VycwovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZmluZSAiUGF0aWVudCBXZWlnaHQgaW4ga2ciOgogIExhc3QoCiAgICBbT2JzZXJ2YXRpb246IGNvZGUgfiAnaHR0cDovL2xvaW5jLm9yZ3wyOTQ2My03J10gTwogICAgICB3aGVyZSBPLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQogICAgICAgIGFuZCBPLmVmZmVjdGl2ZSBpcyBub3QgbnVsbAogICAgICBzb3J0IGJ5IChlZmZlY3RpdmUgYXMgZGF0ZVRpbWUpCiAgKS52YWx1ZSBhcyBRdWFudGl0eQoKZGVmaW5lICJVcmluZSBPdXRwdXQgT2JzZXJ2YXRpb25zIDYgSG91cnMiOgogIFtPYnNlcnZhdGlvbjogIlVyaW5lIG91dHB1dCBbVm9sdW1lXSB0b3RhbCJdIE8KICAgIHdoZXJlIE8uc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9CiAgICAgIGFuZCBPLmVmZmVjdGl2ZSBpcyBub3QgbnVsbAogICAgICBhbmQgKE8uZWZmZWN0aXZlIGFzIGRhdGVUaW1lKSBpbiAiTG9va2JhY2sgNiBIb3VycyIKICAgIHNvcnQgYnkgKGVmZmVjdGl2ZSBhcyBkYXRlVGltZSkKCmRlZmluZSAiVXJpbmUgT3V0cHV0IFJhdGUgbUwgcGVyIGtnIHBlciBociI6CiAgaWYgIlBhdGllbnQgV2VpZ2h0IGluIGtnIiBpcyBub3QgbnVsbCBhbmQgIlBhdGllbnQgV2VpZ2h0IGluIGtnIi52YWx1ZSA+IDAKICAgIGFuZCBleGlzdHMgIlVyaW5lIE91dHB1dCBPYnNlcnZhdGlvbnMgNiBIb3VycyIKICB0aGVuCiAgICBBdmcoCiAgICAgICJVcmluZSBPdXRwdXQgT2JzZXJ2YXRpb25zIDYgSG91cnMiIE8KICAgICAgICByZXR1cm4gKE8udmFsdWUgYXMgUXVhbnRpdHkpLnZhbHVlIC8gIlBhdGllbnQgV2VpZ2h0IGluIGtnIi52YWx1ZQogICAgKQogIGVsc2UgbnVsbAoKZGVmaW5lICJVcmluT3V0cHV0TGVzc1RoYW5Qb2ludEZpdmVGb3IySG91cnMiOgogIENvdW50KCJVcmluZSBPdXRwdXQgT2JzZXJ2YXRpb25zIDYgSG91cnMiKSA+PSAyCiAgYW5kICJVcmluZSBPdXRwdXQgUmF0ZSBtTCBwZXIga2cgcGVyIGhyIiBpcyBub3QgbnVsbAogIGFuZCAiVXJpbmUgT3V0cHV0IFJhdGUgbUwgcGVyIGtnIHBlciBociIgPCAwLjUKCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBMRUFGOiBCaWxpcnViaW5HcmVhdGVyVGhhbjFQb2ludDIKLy8gSGVwYXRpYyBEeXNmdW5jdGlvbiDigJQgVG90YWwgQmlsaXJ1YmluID4gMS4yIG1nL2RMCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmaW5lICJCaWxpcnViaW4gT2JzZXJ2YXRpb25zIDI0IEhvdXJzIjoKICBbT2JzZXJ2YXRpb246ICJCaWxpcnViaW4udG90YWwgW01hc3Mvdm9sdW1lXSBpbiBTZXJ1bSBvciBQbGFzbWEiXSBPCiAgICB3aGVyZSBPLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQogICAgICBhbmQgTy5lZmZlY3RpdmUgaXMgbm90IG51bGwKICAgICAgYW5kIChP"
    }
  ]
}